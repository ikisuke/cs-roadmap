<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ—ãƒ­ã‚»ãƒƒã‚µã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ - ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã‚µã‚¤ã‚¨ãƒ³ã‚¹å­¦ç¿’ã‚¬ã‚¤ãƒ‰</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #8e44ad 0%, #3498db 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .breadcrumb {
            background: #ecf0f1;
            padding: 15px 40px;
            border-bottom: 1px solid #bdc3c7;
        }

        .breadcrumb a {
            color: #3498db;
            text-decoration: none;
            margin-right: 10px;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            border-left: 5px solid #8e44ad;
        }

        .section h2 {
            color: #2c3e50;
            font-size: 1.8rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section h3 {
            color: #34495e;
            font-size: 1.4rem;
            margin: 25px 0 15px 0;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 10px;
        }

        .concept-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .concept-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #8e44ad;
            transition: all 0.3s ease;
        }

        .concept-card:hover {
            background: #f0e6ff;
            border-left-color: #9b59b6;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .concept-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .processor-diagram {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
            text-align: center;
        }

        .cpu-block {
            display: inline-block;
            width: 120px;
            height: 80px;
            background: linear-gradient(45deg, #8e44ad, #9b59b6);
            color: white;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 10px;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .cpu-block:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        .pipeline-visual {
            background: white;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid #8e44ad;
        }

        .pipeline-stage {
            display: inline-block;
            width: 100px;
            height: 60px;
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 5px;
            font-size: 0.9rem;
            font-weight: bold;
            position: relative;
        }

        .pipeline-stage::after {
            content: 'â†’';
            position: absolute;
            right: -20px;
            color: #2c3e50;
            font-size: 1.5rem;
        }

        .pipeline-stage:last-child::after {
            display: none;
        }

        .comparison-table {
            overflow-x: auto;
            margin: 20px 0;
        }

        .comparison-table table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .comparison-table th {
            background: #8e44ad;
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: bold;
        }

        .comparison-table td {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid #ecf0f1;
        }

        .comparison-table tbody tr:hover {
            background: #f8f9fa;
        }

        .instruction-demo {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
        }

        .instruction-format {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            border-left: 4px solid #e74c3c;
        }

        .register-bank {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }

        .register {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            color: white;
            padding: 15px 10px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .register:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .interactive-cpu {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            text-align: center;
        }

        .cpu-control {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .control-btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .control-btn:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }

        .control-btn.active {
            background: #27ae60;
        }

        .cpu-state {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border: 2px solid #8e44ad;
        }

        .practice-section {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
            border: 2px solid #f39c12;
        }

        .practice-title {
            color: #856404;
            font-size: 1.3rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .exercise {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #f39c12;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 30px 40px;
            background: #ecf0f1;
        }

        .btn {
            display: inline-block;
            padding: 12px 24px;
            background: linear-gradient(45deg, #8e44ad, #9b59b6);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(142, 68, 173, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(45deg, #95a5a6, #7f8c8d);
        }

        .btn-secondary:hover {
            box-shadow: 0 5px 15px rgba(149, 165, 166, 0.4);
        }

        .code-example {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            overflow-x: auto;
        }

        .highlight {
            color: #f39c12;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }

            .header {
                padding: 30px 20px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .content {
                padding: 20px;
            }

            .section {
                padding: 20px;
            }

            .concept-grid {
                grid-template-columns: 1fr;
            }

            .cpu-control {
                flex-direction: column;
                align-items: center;
            }

            .processor-diagram {
                padding: 15px;
            }

            .cpu-block {
                width: 100px;
                height: 70px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ­ ãƒ—ãƒ­ã‚»ãƒƒã‚µã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</h1>
            <p>ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®å¿ƒè‡“éƒ¨ - CPUè¨­è¨ˆã¨å‹•ä½œåŸç†</p>
        </div>

        <div class="breadcrumb">
            <a href="index.html">ğŸ  ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—</a> > 
            <a href="#phase3">Phase 3: ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</a> > 
            <span>ãƒ—ãƒ­ã‚»ãƒƒã‚µã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</span>
        </div>

        <div class="content">
            <!-- æ¦‚è¦ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
            <div class="section">
                <h2>ğŸ¯ å­¦ç¿’ç›®æ¨™</h2>
                <div class="concept-grid">
                    <div class="concept-card">
                        <div class="concept-title">å‘½ä»¤ã‚»ãƒƒãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</div>
                        <p>RISC vs CISCã€å‘½ä»¤å½¢å¼ã€ã‚¢ãƒ‰ãƒ¬ãƒƒã‚·ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰ã®ç†è§£</p>
                    </div>
                    <div class="concept-card">
                        <div class="concept-title">ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å‡¦ç†</div>
                        <p>å‘½ä»¤ã®ä¸¦åˆ—å®Ÿè¡Œã«ã‚ˆã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šæ‰‹æ³•</p>
                    </div>
                    <div class="concept-card">
                        <div class="concept-title">ãƒ—ãƒ­ã‚»ãƒƒã‚µæ§‹æˆè¦ç´ </div>
                        <p>ALUã€åˆ¶å¾¡ãƒ¦ãƒ‹ãƒƒãƒˆã€ãƒ¬ã‚¸ã‚¹ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã®å½¹å‰²</p>
                    </div>
                    <div class="concept-card">
                        <div class="concept-title">æ€§èƒ½æœ€é©åŒ–</div>
                        <p>ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã€åˆ†å²äºˆæ¸¬ã€ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¹ã‚«ãƒ©å®Ÿè¡Œ</p>
                    </div>
                </div>
            </div>

            <!-- CPUåŸºæœ¬æ§‹æˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
            <div class="section">
                <h2>ğŸ”§ CPUã®åŸºæœ¬æ§‹æˆ</h2>
                
                <div class="processor-diagram">
                    <h3>CPUå†…éƒ¨æ§‹æˆå›³</h3>
                    <div style="display: flex; flex-wrap: wrap; justify-content: center; align-items: center;">
                        <div class="cpu-block" onclick="showCpuInfo('fetch')">å‘½ä»¤ãƒ•ã‚§ãƒƒãƒ</div>
                        <div class="cpu-block" onclick="showCpuInfo('decode')">å‘½ä»¤ãƒ‡ã‚³ãƒ¼ãƒ‰</div>
                        <div class="cpu-block" onclick="showCpuInfo('execute')">å®Ÿè¡Œ</div>
                        <div class="cpu-block" onclick="showCpuInfo('alu')">ALU</div>
                        <div class="cpu-block" onclick="showCpuInfo('registers')">ãƒ¬ã‚¸ã‚¹ã‚¿</div>
                        <div class="cpu-block" onclick="showCpuInfo('control')">åˆ¶å¾¡ãƒ¦ãƒ‹ãƒƒãƒˆ</div>
                    </div>
                    <div id="cpu-info" class="cpu-state">
                        CPUãƒ–ãƒ­ãƒƒã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦è©³ç´°æƒ…å ±ã‚’è¡¨ç¤º
                    </div>
                </div>

                <h3>ãƒ¬ã‚¸ã‚¹ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«</h3>
                <div class="register-bank">
                    <div class="register" onclick="showRegisterInfo('R0')">R0</div>
                    <div class="register" onclick="showRegisterInfo('R1')">R1</div>
                    <div class="register" onclick="showRegisterInfo('R2')">R2</div>
                    <div class="register" onclick="showRegisterInfo('R3')">R3</div>
                    <div class="register" onclick="showRegisterInfo('SP')">SP</div>
                    <div class="register" onclick="showRegisterInfo('PC')">PC</div>
                    <div class="register" onclick="showRegisterInfo('LR')">LR</div>
                    <div class="register" onclick="showRegisterInfo('SR')">SR</div>
                </div>
                <div id="register-info" class="cpu-state">
                    ãƒ¬ã‚¸ã‚¹ã‚¿ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦æ©Ÿèƒ½ã‚’ç¢ºèª
                </div>
            </div>

            <!-- å‘½ä»¤ã‚»ãƒƒãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ -->
            <div class="section">
                <h2>ğŸ“‹ å‘½ä»¤ã‚»ãƒƒãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆISAï¼‰</h2>
                
                <h3>RISC vs CISCæ¯”è¼ƒ</h3>
                <div class="comparison-table">
                    <table>
                        <thead>
                            <tr>
                                <th>ç‰¹å¾´</th>
                                <th>RISC</th>
                                <th>CISC</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>å‘½ä»¤æ•°</td>
                                <td>å°‘ãªã„ï¼ˆ50-100å€‹ï¼‰</td>
                                <td>å¤šã„ï¼ˆ200-300å€‹ï¼‰</td>
                            </tr>
                            <tr>
                                <td>å‘½ä»¤å½¢å¼</td>
                                <td>å›ºå®šé•·</td>
                                <td>å¯å¤‰é•·</td>
                            </tr>
                            <tr>
                                <td>å®Ÿè¡Œæ™‚é–“</td>
                                <td>1ã‚µã‚¤ã‚¯ãƒ«</td>
                                <td>è¤‡æ•°ã‚µã‚¤ã‚¯ãƒ«</td>
                            </tr>
                            <tr>
                                <td>ã‚¢ãƒ‰ãƒ¬ãƒƒã‚·ãƒ³ã‚°</td>
                                <td>ã‚·ãƒ³ãƒ—ãƒ«</td>
                                <td>è¤‡é›‘</td>
                            </tr>
                            <tr>
                                <td>ä»£è¡¨ä¾‹</td>
                                <td>ARMã€RISC-Vã€MIPS</td>
                                <td>x86ã€x86-64</td>
                            </tr>
                            <tr>
                                <td>è¨­è¨ˆæ€æƒ³</td>
                                <td>ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ç°¡ç´ åŒ–</td>
                                <td>ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ç°¡ç´ åŒ–</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>å‘½ä»¤å½¢å¼ã®ä¾‹</h3>
                <div class="instruction-demo">
                    <h4>RISC-Vå‘½ä»¤å½¢å¼</h4>
                    <div class="instruction-format">
                        <strong>Rå‹ï¼ˆãƒ¬ã‚¸ã‚¹ã‚¿å‹ï¼‰:</strong><br>
                        <span class="highlight">ADD R1, R2, R3</span> // R1 = R2 + R3
                    </div>
                    <div class="instruction-format">
                        <strong>Iå‹ï¼ˆå³å€¤å‹ï¼‰:</strong><br>
                        <span class="highlight">ADDI R1, R2, #100</span> // R1 = R2 + 100
                    </div>
                    <div class="instruction-format">
                        <strong>Så‹ï¼ˆã‚¹ãƒˆã‚¢å‹ï¼‰:</strong><br>
                        <span class="highlight">SW R1, 0(R2)</span> // Memory[R2] = R1
                    </div>
                    <div class="instruction-format">
                        <strong>Bå‹ï¼ˆåˆ†å²å‹ï¼‰:</strong><br>
                        <span class="highlight">BEQ R1, R2, label</span> // if R1 == R2 goto label
                    </div>
                </div>
            </div>

            <!-- ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å‡¦ç† -->
            <div class="section">
                <h2>âš¡ ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å‡¦ç†</h2>
                
                <h3>5æ®µãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³</h3>
                <div class="pipeline-visual">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <div class="pipeline-stage">IF</div>
                        <div class="pipeline-stage">ID</div>
                        <div class="pipeline-stage">EX</div>
                        <div class="pipeline-stage">MEM</div>
                        <div class="pipeline-stage">WB</div>
                    </div>
                    <div style="font-size: 0.9rem; color: #7f8c8d;">
                        IF: å‘½ä»¤ãƒ•ã‚§ãƒƒãƒ | ID: å‘½ä»¤ãƒ‡ã‚³ãƒ¼ãƒ‰ | EX: å®Ÿè¡Œ | MEM: ãƒ¡ãƒ¢ãƒªã‚¢ã‚¯ã‚»ã‚¹ | WB: æ›¸ãæˆ»ã—
                    </div>
                </div>

                <h3>ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãƒã‚¶ãƒ¼ãƒ‰</h3>
                <div class="concept-grid">
                    <div class="concept-card">
                        <div class="concept-title">æ§‹é€ ãƒã‚¶ãƒ¼ãƒ‰</div>
                        <p>åŒã˜ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ãƒªã‚½ãƒ¼ã‚¹ã‚’è¤‡æ•°ã®å‘½ä»¤ãŒåŒæ™‚ã«ä½¿ç”¨ã—ã‚ˆã†ã¨ã™ã‚‹ç«¶åˆ</p>
                    </div>
                    <div class="concept-card">
                        <div class="concept-title">ãƒ‡ãƒ¼ã‚¿ãƒã‚¶ãƒ¼ãƒ‰</div>
                        <p>å¾Œç¶šã®å‘½ä»¤ãŒå‰ã®å‘½ä»¤ã®çµæœã«ä¾å­˜ã—ã¦ã„ã‚‹å ´åˆã®ç«¶åˆ</p>
                    </div>
                    <div class="concept-card">
                        <div class="concept-title">åˆ¶å¾¡ãƒã‚¶ãƒ¼ãƒ‰</div>
                        <p>åˆ†å²å‘½ä»¤ã«ã‚ˆã‚Šæ¬¡ã«å®Ÿè¡Œã™ã‚‹å‘½ä»¤ãŒä¸æ˜ãªå ´åˆã®ç«¶åˆ</p>
                    </div>
                </div>

                <div class="code-example">
                    <div style="margin-bottom: 10px; font-weight: bold;">ãƒ‡ãƒ¼ã‚¿ãƒã‚¶ãƒ¼ãƒ‰ã®ä¾‹:</div>
                    ADD R1, R2, R3    <span style="color: #e74c3c;">// R1 = R2 + R3</span><br>
                    SUB R4, <span class="highlight">R1</span>, R5    <span style="color: #e74c3c;">// R4 = R1 - R5 (R1ã«ä¾å­˜)</span><br><br>
                    
                    <div style="margin-bottom: 10px; font-weight: bold;">è§£æ±ºç­–: ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°</div>
                    å®Ÿè¡Œæ®µéšã®çµæœã‚’ç›´æ¥æ¬¡ã®å‘½ä»¤ã«è»¢é€
                </div>
            </div>

            <!-- ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–CPUã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ -->
            <div class="section">
                <h2>ğŸ® ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–CPUã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿</h2>
                
                <div class="interactive-cpu">
                    <h3>ã‚·ãƒ³ãƒ—ãƒ«ãªCPUå‹•ä½œã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</h3>
                    <p>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å‘½ä»¤å®Ÿè¡Œã‚µã‚¤ã‚¯ãƒ«ã‚’ä½“é¨“</p>
                    
                    <div class="cpu-control">
                        <button class="control-btn" onclick="executeStep('fetch')">å‘½ä»¤ãƒ•ã‚§ãƒƒãƒ</button>
                        <button class="control-btn" onclick="executeStep('decode')">ãƒ‡ã‚³ãƒ¼ãƒ‰</button>
                        <button class="control-btn" onclick="executeStep('execute')">å®Ÿè¡Œ</button>
                        <button class="control-btn" onclick="resetCpu()">ãƒªã‚»ãƒƒãƒˆ</button>
                    </div>
                    
                    <div class="cpu-state" id="cpu-simulator">
                        <div><strong>ç¾åœ¨ã®çŠ¶æ…‹:</strong> å¾…æ©Ÿä¸­</div>
                        <div><strong>PC (ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚«ã‚¦ãƒ³ã‚¿):</strong> <span id="pc-value">0x0000</span></div>
                        <div><strong>å®Ÿè¡Œä¸­ã®å‘½ä»¤:</strong> <span id="current-instruction">ãªã—</span></div>
                        <div><strong>ãƒ¬ã‚¸ã‚¹ã‚¿R1:</strong> <span id="r1-value">0</span></div>
                        <div><strong>ãƒ¬ã‚¸ã‚¹ã‚¿R2:</strong> <span id="r2-value">0</span></div>
                    </div>
                </div>
            </div>

            <!-- ç¾ä»£çš„ãªãƒ—ãƒ­ã‚»ãƒƒã‚µæŠ€è¡“ -->
            <div class="section">
                <h2>ğŸš€ ç¾ä»£çš„ãªãƒ—ãƒ­ã‚»ãƒƒã‚µæŠ€è¡“</h2>
                
                <div class="concept-grid">
                    <div class="concept-card">
                        <div class="concept-title">ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¹ã‚«ãƒ©å®Ÿè¡Œ</div>
                        <p>è¤‡æ•°ã®å‘½ä»¤ã‚’åŒæ™‚ã«å®Ÿè¡Œã™ã‚‹æŠ€è¡“ã€‚è¤‡æ•°ã®å®Ÿè¡Œãƒ¦ãƒ‹ãƒƒãƒˆã‚’æ´»ç”¨</p>
                    </div>
                    <div class="concept-card">
                        <div class="concept-title">ã‚¢ã‚¦ãƒˆã‚ªãƒ–ã‚ªãƒ¼ãƒ€ãƒ¼å®Ÿè¡Œ</div>
                        <p>ä¾å­˜é–¢ä¿‚ã®ãªã„å‘½ä»¤ã‚’é †åºã‚’å¤‰ãˆã¦å®Ÿè¡Œã™ã‚‹æœ€é©åŒ–æŠ€è¡“</p>
                    </div>
                    <div class="concept-card">
                        <div class="concept-title">åˆ†å²äºˆæ¸¬</div>
                        <p>æ¡ä»¶åˆ†å²ã®çµæœã‚’äºˆæ¸¬ã—ã¦æŠ•æ©Ÿçš„ã«å®Ÿè¡Œã‚’ç¶™ç¶š</p>
                    </div>
                    <div class="concept-card">
                        <div class="concept-title">ãƒãƒ«ãƒã‚³ã‚¢</div>
                        <p>è¤‡æ•°ã®CPUã‚³ã‚¢ã«ã‚ˆã‚‹ä¸¦åˆ—å‡¦ç†ã§ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆå‘ä¸Š</p>
                    </div>
                    <div class="concept-card">
                        <div class="concept-title">SIMDå‘½ä»¤</div>
                        <p>Single Instruction Multiple Data - ä¸€ã¤ã®å‘½ä»¤ã§è¤‡æ•°ãƒ‡ãƒ¼ã‚¿ã‚’å‡¦ç†</p>
                    </div>
                    <div class="concept-card">
                        <div class="concept-title">ä»®æƒ³åŒ–æ”¯æ´</div>
                        <p>ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ãƒ¬ãƒ™ãƒ«ã§ã®ä»®æƒ³åŒ–æ©Ÿèƒ½ï¼ˆIntel VT-xã€AMD-Vï¼‰</p>
                    </div>
                </div>
            </div>

            <!-- å®Ÿè·µæ¼”ç¿’ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
            <div class="practice-section">
                <div class="practice-title">
                    ğŸ’ª å®Ÿè·µæ¼”ç¿’
                </div>
                
                <div class="exercise">
                    <h4>æ¼”ç¿’1ï¼šå‘½ä»¤è§£æ</h4>
                    <p>æ¬¡ã®ã‚¢ã‚»ãƒ³ãƒ–ãƒªã‚³ãƒ¼ãƒ‰ã‚’è§£æã—ã€å„å‘½ä»¤ã®ç¨®é¡ã¨å‹•ä½œã‚’èª¬æ˜ã›ã‚ˆï¼š</p>
                    <div class="code-example">
                        MOV R1, #10      <span style="color: #7f8c8d;">// å³å€¤10ã‚’R1ã«æ ¼ç´</span><br>
                        ADD R2, R1, R1   <span style="color: #7f8c8d;">// R2 = R1 + R1</span><br>
                        CMP R2, #20      <span style="color: #7f8c8d;">// R2ã¨20ã‚’æ¯”è¼ƒ</span><br>
                        BEQ end          <span style="color: #7f8c8d;">// ç­‰ã—ã‘ã‚Œã°endã«ã‚¸ãƒ£ãƒ³ãƒ—</span>
                    </div>
                </div>

                <div class="exercise">
                    <h4>æ¼”ç¿’2ï¼šãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³è§£æ</h4>
                    <p>5æ®µãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§ä»¥ä¸‹ã®å‘½ä»¤åˆ—ã‚’å®Ÿè¡Œã™ã‚‹å ´åˆã€ãƒ‡ãƒ¼ã‚¿ãƒã‚¶ãƒ¼ãƒ‰ãŒç™ºç”Ÿã™ã‚‹ã‹åˆ†æã›ã‚ˆï¼š</p>
                    <div class="code-example">
                        ADD R1, R2, R3<br>
                        SUB R4, R1, R5<br>
                        OR  R6, R1, R7
                    </div>
                </div>

                <div class="exercise">
                    <h4>æ¼”ç¿’3ï¼šæ€§èƒ½è¨ˆç®—</h4>
                    <p>CPUã®å‹•ä½œå‘¨æ³¢æ•°ãŒ3GHzã€å¹³å‡CPIï¼ˆCycles Per Instructionï¼‰ãŒ1.5ã®å ´åˆã€1ç§’é–“ã«å®Ÿè¡Œã§ãã‚‹å‘½ä»¤æ•°ï¼ˆIPSï¼‰ã‚’è¨ˆç®—ã›ã‚ˆã€‚</p>
                </div>

                <div class="exercise">
                    <h4>æ¼”ç¿’4ï¼šã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¯”è¼ƒ</h4>
                    <p>ARMãƒ—ãƒ­ã‚»ãƒƒã‚µã¨x86ãƒ—ãƒ­ã‚»ãƒƒã‚µã®ç‰¹å¾´ã‚’æ¯”è¼ƒã—ã€ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã¨PCã§ãã‚Œãã‚ŒãŒæ¡ç”¨ã•ã‚Œã‚‹ç†ç”±ã‚’èª¬æ˜ã›ã‚ˆã€‚</p>
                </div>
            </div>

            <!-- æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ— -->
            <div class="section">
                <h2>ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h2>
                <div class="concept-grid">
                    <div class="concept-card">
                        <div class="concept-title">ãƒ¡ãƒ¢ãƒªéšå±¤</div>
                        <p>ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ¡ãƒ¢ãƒªã¨ãƒ¡ãƒ¢ãƒªç®¡ç†ã®è©³ç´°å­¦ç¿’</p>
                    </div>
                    <div class="concept-card">
                        <div class="concept-title">I/Oã‚·ã‚¹ãƒ†ãƒ </div>
                        <p>å…¥å‡ºåŠ›è£…ç½®ã¨ãƒ—ãƒ­ã‚»ãƒƒã‚µã®é€£æºæ©Ÿæ§‹</p>
                    </div>
                    <div class="concept-card">
                        <div class="concept-title">ä¸¦åˆ—ãƒ—ãƒ­ã‚»ãƒƒã‚µ</div>
                        <p>GPUã€ãƒãƒ«ãƒã‚³ã‚¢ã€ãƒ¡ãƒ‹ãƒ¼ã‚³ã‚¢ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</p>
                    </div>
                    <div class="concept-card">
                        <div class="concept-title">ãƒ—ãƒ­ã‚»ãƒƒã‚µè¨­è¨ˆå®Ÿç¿’</div>
                        <p>Verilog/VHDLã«ã‚ˆã‚‹CPUè¨­è¨ˆã¨FPGAå®Ÿè£…</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="navigation">
            <a href="digital-logic.html" class="btn btn-secondary">â† ãƒ‡ã‚¸ã‚¿ãƒ«è«–ç†</a>
            <a href="index.html" class="btn btn-secondary">ğŸ  ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã«æˆ»ã‚‹</a>
            <a href="#" class="btn">ãƒ¡ãƒ¢ãƒªéšå±¤ â†’</a>
        </div>
    </div>

    <script>
        // CPUæƒ…å ±è¡¨ç¤ºã‚·ã‚¹ãƒ†ãƒ 
        const cpuInfoData = {
            fetch: {
                title: "å‘½ä»¤ãƒ•ã‚§ãƒƒãƒï¼ˆIFï¼‰",
                description: "ãƒ¡ãƒ¢ãƒªã‹ã‚‰å‘½ä»¤ã‚’èª­ã¿å–ã‚Šã€å‘½ä»¤ãƒ¬ã‚¸ã‚¹ã‚¿ã«æ ¼ç´ã—ã¾ã™ã€‚ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚«ã‚¦ãƒ³ã‚¿ï¼ˆPCï¼‰ãŒæŒ‡ã™ã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰å‘½ä»¤ã‚’å–å¾—ã—ã€PCã‚’æ¬¡ã®å‘½ä»¤ã«æ›´æ–°ã—ã¾ã™ã€‚"
            },
            decode: {
                title: "å‘½ä»¤ãƒ‡ã‚³ãƒ¼ãƒ‰ï¼ˆIDï¼‰",
                description: "ãƒ•ã‚§ãƒƒãƒã—ãŸå‘½ä»¤ã‚’è§£æã—ã€æ“ä½œã®ç¨®é¡ã€ã‚ªãƒšãƒ©ãƒ³ãƒ‰ã€åˆ¶å¾¡ä¿¡å·ã‚’æ±ºå®šã—ã¾ã™ã€‚ãƒ¬ã‚¸ã‚¹ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿å‡ºã—ã¾ã™ã€‚"
            },
            execute: {
                title: "å®Ÿè¡Œï¼ˆEXï¼‰",
                description: "ALUï¼ˆç®—è¡“è«–ç†æ¼”ç®—è£…ç½®ï¼‰ã§å®Ÿéš›ã®è¨ˆç®—ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ç®—è¡“æ¼”ç®—ã€è«–ç†æ¼”ç®—ã€æ¯”è¼ƒæ¼”ç®—ãªã©ã‚’è¡Œã„ã¾ã™ã€‚"
            },
            alu: {
                title: "ALUï¼ˆç®—è¡“è«–ç†æ¼”ç®—è£…ç½®ï¼‰",
                description: "åŠ ç®—ã€æ¸›ç®—ã€è«–ç†æ¼”ç®—ï¼ˆANDã€ORã€XORï¼‰ã€ã‚·ãƒ•ãƒˆæ¼”ç®—ã€æ¯”è¼ƒæ¼”ç®—ã‚’å®Ÿè¡Œã™ã‚‹ãƒ—ãƒ­ã‚»ãƒƒã‚µã®ä¸­æ ¸éƒ¨åˆ†ã§ã™ã€‚"
            },
            registers: {
                title: "ãƒ¬ã‚¸ã‚¹ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«",
                description: "é«˜é€Ÿã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ãªè¨˜æ†¶è£…ç½®ã€‚æ±ç”¨ãƒ¬ã‚¸ã‚¹ã‚¿ã€ç‰¹æ®Šç”¨é€”ãƒ¬ã‚¸ã‚¹ã‚¿ï¼ˆPCã€SPã€LRãªã©ï¼‰ãŒå«ã¾ã‚Œã¾ã™ã€‚"
            },
            control: {
                title: "åˆ¶å¾¡ãƒ¦ãƒ‹ãƒƒãƒˆ",
                description: "å‘½ä»¤ã‚’è§£æã—ã€é©åˆ‡ãªåˆ¶å¾¡ä¿¡å·ã‚’ç”Ÿæˆã—ã¦ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¹ã‚’åˆ¶å¾¡ã—ã¾ã™ã€‚ãƒã‚¤ã‚¯ãƒ­ãƒ—ãƒ­ã‚°ãƒ©ãƒ åˆ¶å¾¡ã‚„ãƒãƒ¼ãƒ‰ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ‰åˆ¶å¾¡æ–¹å¼ãŒã‚ã‚Šã¾ã™ã€‚"
            }
        };

        const registerInfoData = {
            R0: "æ±ç”¨ãƒ¬ã‚¸ã‚¹ã‚¿0 - ä¸€èˆ¬çš„ãªè¨ˆç®—ç”¨é€”",
            R1: "æ±ç”¨ãƒ¬ã‚¸ã‚¹ã‚¿1 - ä¸€èˆ¬çš„ãªè¨ˆç®—ç”¨é€”", 
            R2: "æ±ç”¨ãƒ¬ã‚¸ã‚¹ã‚¿2 - ä¸€èˆ¬çš„ãªè¨ˆç®—ç”¨é€”",
            R3: "æ±ç”¨ãƒ¬ã‚¸ã‚¹ã‚¿3 - ä¸€èˆ¬çš„ãªè¨ˆç®—ç”¨é€”",
            SP: "ã‚¹ã‚¿ãƒƒã‚¯ãƒã‚¤ãƒ³ã‚¿ - ã‚¹ã‚¿ãƒƒã‚¯ã®å…ˆé ­ã‚’æŒ‡ã™",
            PC: "ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚«ã‚¦ãƒ³ã‚¿ - æ¬¡ã«å®Ÿè¡Œã™ã‚‹å‘½ä»¤ã®ã‚¢ãƒ‰ãƒ¬ã‚¹",
            LR: "ãƒªãƒ³ã‚¯ãƒ¬ã‚¸ã‚¹ã‚¿ - é–¢æ•°å‘¼ã³å‡ºã—æ™‚ã®æˆ»ã‚Šã‚¢ãƒ‰ãƒ¬ã‚¹",
            SR: "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ¬ã‚¸ã‚¹ã‚¿ - æ¡ä»¶ãƒ•ãƒ©ã‚°ï¼ˆN, Z, C, Vï¼‰"
        };

        function showCpuInfo(component) {
            const info = cpuInfoData[component];
            document.getElementById('cpu-info').innerHTML = `
                <strong>${info.title}</strong><br>
                ${info.description}
            `;
        }

        function showRegisterInfo(register) {
            document.getElementById('register-info').innerHTML = `
                <strong>${register}ãƒ¬ã‚¸ã‚¹ã‚¿:</strong> ${registerInfoData[register]}
            `;
        }

        // CPUã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿
        let cpuState = {
            step: 0,
            pc: 0,
            instruction: "",
            r1: 0,
            r2: 0
        };

        const instructions = [
            "MOV R1, #5",
            "MOV R2, #3", 
            "ADD R1, R1, R2",
            "CMP R1, #8"
        ];

        function executeStep(step) {
            const buttons = document.querySelectorAll('.control-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            const stateDiv = document.getElementById('cpu-simulator');
            
            switch(step) {
                case 'fetch':
                    if (cpuState.step === 0) {
                        cpuState.instruction = instructions[cpuState.pc] || "NOP";
                        updateDisplay("å‘½ä»¤ãƒ•ã‚§ãƒƒãƒå®Ÿè¡Œä¸­...", `å‘½ä»¤ã€Œ${cpuState.instruction}ã€ã‚’ãƒ¡ãƒ¢ãƒªã‹ã‚‰èª­ã¿è¾¼ã¿`);
                        cpuState.step = 1;
                    }
                    break;
                    
                case 'decode':
                    if (cpuState.step === 1) {
                        updateDisplay("å‘½ä»¤ãƒ‡ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œä¸­...", `ã€Œ${cpuState.instruction}ã€ã‚’è§£æä¸­`);
                        cpuState.step = 2;
                    }
                    break;
                    
                case 'execute':
                    if (cpuState.step === 2) {
                        executeInstruction();
                        cpuState.pc++;
                        cpuState.step = 0;
                        setTimeout(() => {
                            buttons.forEach(btn => btn.classList.remove('active'));
                        }, 1000);
                    }
                    break;
            }
        }

        function executeInstruction() {
            const instruction = cpuState.instruction;
            let result = "";
            
            if (instruction.includes("MOV R1, #5")) {
                cpuState.r1 = 5;
                result = "R1ã«5ã‚’æ ¼ç´";
            } else if (instruction.includes("MOV R2, #3")) {
                cpuState.r2 = 3;
                result = "R2ã«3ã‚’æ ¼ç´";
            } else if (instruction.includes("ADD R1, R1, R2")) {
                cpuState.r1 = cpuState.r1 + cpuState.r2;
                result = `R1 = R1 + R2 = ${cpuState.r1}`;
            } else if (instruction.includes("CMP R1, #8")) {
                result = `R1(${cpuState.r1})ã¨8ã‚’æ¯”è¼ƒ: ${cpuState.r1 === 8 ? 'ç­‰ã—ã„' : 'ç­‰ã—ããªã„'}`;
            }
            
            updateDisplay("å®Ÿè¡Œå®Œäº†", result);
        }

        function updateDisplay(state, instruction) {
            document.getElementById('cpu-simulator').innerHTML = `
                <div><strong>ç¾åœ¨ã®çŠ¶æ…‹:</strong> ${state}</div>
                <div><strong>PC (ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚«ã‚¦ãƒ³ã‚¿):</strong> <span id="pc-value">0x${cpuState.pc.toString(16).padStart(4, '0').toUpperCase()}</span></div>
                <div><strong>å®Ÿè¡Œä¸­ã®å‘½ä»¤:</strong> <span id="current-instruction">${instruction}</span></div>
                <div><strong>ãƒ¬ã‚¸ã‚¹ã‚¿R1:</strong> <span id="r1-value">${cpuState.r1}</span></div>
                <div><strong>ãƒ¬ã‚¸ã‚¹ã‚¿R2:</strong> <span id="r2-value">${cpuState.r2}</span></div>
            `;
        }

        function resetCpu() {
            cpuState = { step: 0, pc: 0, instruction: "", r1: 0, r2: 0 };
            document.querySelectorAll('.control-btn').forEach(btn => btn.classList.remove('active'));
            updateDisplay("ãƒªã‚»ãƒƒãƒˆå®Œäº†", "å¾…æ©Ÿä¸­");
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // ã‚¹ãƒ ãƒ¼ã‚¹ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth'
                        });
                    }
                });
            });

            // ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            // ã™ã¹ã¦ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç›£è¦–
            document.querySelectorAll('.section').forEach(section => {
                section.style.opacity = '0';
                section.style.transform = 'translateY(20px)';
                section.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(section);
            });

            // åˆæœŸè¡¨ç¤º
            updateDisplay("å¾…æ©Ÿä¸­", "ãªã—");
        });
    </script>
</body>
</html>